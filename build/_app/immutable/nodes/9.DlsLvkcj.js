import{s as me,b as oe,d as re}from"../chunks/scheduler.DY6Msf2u.js";import{S as $e,i as ge,u as le,e as d,h as P,s as C,c as p,a as I,l as R,d as i,k as D,j as ie,b as L,f as F,n as s,o as S,v as _e,t as q,g as A,p as H,q as Y,r as Z}from"../chunks/index.DjsPaKsZ.js";import{g as fe}from"../chunks/entry.DHkwwkLX.js";import{L as ue,I as ce,B as he,A as ve}from"../chunks/config.6PdDrzyK.js";import{I as we}from"../chunks/Icon.Bore18nx.js";function be(o){let n;return{c(){n=Y("Email")},l(e){n=Z(e,"Email")},m(e,a){F(e,n,a)},d(e){e&&i(n)}}}function Ee(o){let n;return{c(){n=Y("Password")},l(e){n=Z(e,"Password")},m(e,a){F(e,n,a)},d(e){e&&i(n)}}}function Ie(o){let n;return{c(){n=Y("Registrati")},l(e){n=Z(e,"Registrati")},m(e,a){F(e,n,a)},d(e){e&&i(n)}}}function ke(o){let n,e,a,f,m,T,$,g="Registrati",c,r,k,w,K,_,U,W,j,b,G,h,J,N,V,E,Q,x,ee='Hai gi√† un account? <a href="/login">Login</a>',z,X,te;m=new we({props:{name:"home",color:"fill-neutral",size:"32"}}),w=new ue({props:{for:"email",$$slots:{default:[be]},$$scope:{ctx:o}}});function de(t){o[3](t)}let ne={type:"text",placeholder:"Email Address"};o[0]!==void 0&&(ne.value=o[0]),_=new ce({props:ne}),oe.push(()=>le(_,"value",de)),b=new ue({props:{for:"password",$$slots:{default:[Ee]},$$scope:{ctx:o}}});function pe(t){o[4](t)}let ae={type:"password",placeholder:"Enter Password"};return o[1]!==void 0&&(ae.value=o[1]),h=new ce({props:ae}),oe.push(()=>le(h,"value",pe)),E=new he({props:{type:"primary",$$slots:{default:[Ie]},$$scope:{ctx:o}}}),{c(){n=d("div"),e=d("div"),a=d("div"),f=d("a"),P(m.$$.fragment),T=C(),$=d("h1"),$.textContent=g,c=C(),r=d("form"),k=d("div"),P(w.$$.fragment),K=C(),P(_.$$.fragment),W=C(),j=d("div"),P(b.$$.fragment),G=C(),P(h.$$.fragment),N=C(),V=d("div"),P(E.$$.fragment),Q=C(),x=d("div"),x.innerHTML=ee,this.h()},l(t){n=p(t,"DIV",{class:!0});var l=I(n);e=p(l,"DIV",{class:!0});var u=I(e);a=p(u,"DIV",{});var M=I(a);f=p(M,"A",{href:!0});var O=I(f);R(m.$$.fragment,O),O.forEach(i),M.forEach(i),T=D(u),$=p(u,"H1",{class:!0,"data-svelte-h":!0}),ie($)!=="svelte-1lqt1zi"&&($.textContent=g),c=D(u),r=p(u,"FORM",{class:!0});var v=I(r);k=p(v,"DIV",{});var y=I(k);R(w.$$.fragment,y),K=D(y),R(_.$$.fragment,y),y.forEach(i),W=D(v),j=p(v,"DIV",{});var B=I(j);R(b.$$.fragment,B),G=D(B),R(h.$$.fragment,B),B.forEach(i),N=D(v),V=p(v,"DIV",{class:!0});var se=I(V);R(E.$$.fragment,se),se.forEach(i),v.forEach(i),Q=D(u),x=p(u,"DIV",{class:!0,"data-svelte-h":!0}),ie(x)!=="svelte-13o5y0m"&&(x.innerHTML=ee),u.forEach(i),l.forEach(i),this.h()},h(){L(f,"href","/"),L($,"class","text-3xl font-semibold text-center"),L(V,"class","float-right"),L(r,"class","space-y-4 text-neutral-700"),L(x,"class","pt-6 block text-sm"),L(e,"class","w-96 p-6 m-auto bg-white text-neutral-700 rounded-md shadow-md lg:max-w-lg"),L(n,"class","relative flex flex-col justify-center h-screen overflow-hidden")},m(t,l){F(t,n,l),s(n,e),s(e,a),s(a,f),S(m,f,null),s(e,T),s(e,$),s(e,c),s(e,r),s(r,k),S(w,k,null),s(k,K),S(_,k,null),s(r,W),s(r,j),S(b,j,null),s(j,G),S(h,j,null),s(r,N),s(r,V),S(E,V,null),s(e,Q),s(e,x),z=!0,X||(te=_e(r,"submit",o[2]),X=!0)},p(t,[l]){const u={};l&32&&(u.$$scope={dirty:l,ctx:t}),w.$set(u);const M={};!U&&l&1&&(U=!0,M.value=t[0],re(()=>U=!1)),_.$set(M);const O={};l&32&&(O.$$scope={dirty:l,ctx:t}),b.$set(O);const v={};!J&&l&2&&(J=!0,v.value=t[1],re(()=>J=!1)),h.$set(v);const y={};l&32&&(y.$$scope={dirty:l,ctx:t}),E.$set(y)},i(t){z||(q(m.$$.fragment,t),q(w.$$.fragment,t),q(_.$$.fragment,t),q(b.$$.fragment,t),q(h.$$.fragment,t),q(E.$$.fragment,t),z=!0)},o(t){A(m.$$.fragment,t),A(w.$$.fragment,t),A(_.$$.fragment,t),A(b.$$.fragment,t),A(h.$$.fragment,t),A(E.$$.fragment,t),z=!1},d(t){t&&i(n),H(m),H(w),H(_),H(b),H(h),H(E),X=!1,te()}}}function je(o,n,e){typeof window<"u"&&typeof document<"u"&&document.cookie.split("; ").find(c=>c.startsWith("jwt="))&&fe("/");let a="",f="";async function m(){let g="username="+a+"&password="+f;try{const c=await fetch(ve+"/users/auth/jwt/login",{method:"POST",headers:{accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:g.toString()});if(c.ok){const r=await c.json();document.cookie=`jwt=${r.access_token}; path=/`,console.log("login OK!"),fe("/")}else console.error("Login failed")}catch(c){console.error("Error:",c)}}function T(g){a=g,e(0,a)}function $(g){f=g,e(1,f)}return[a,f,m,T,$]}class Ve extends $e{constructor(n){super(),ge(this,n,je,ke,me,{})}}export{Ve as component};
